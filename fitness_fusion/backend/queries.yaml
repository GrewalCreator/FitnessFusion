sql:
    addMember: >
                INSERT INTO Members (FirstName, LastName, Email, Password, DOB, Gender, MemberType)
                VALUES (LOWER(%s), LOWER(%s), LOWER(%s), %s, %s, %s, %s) 
                ON CONFLICT (Email) 
                DO NOTHING RETURNING MemberID;

    addClient: INSERT INTO Clients (MemberID) VALUES (%s) ON CONFLICT (MemberID) DO NOTHING;

    searchMembersByEmail: SELECT 1 FROM Members WHERE Email = %s;

    searchTrainersByEmail: SELECT 1 FROM Members WHERE Email = %s AND MemberType = 'Trainer';

    searchClientsByEmail:  >
                            SELECT 1
                            FROM (
                                SELECT m.FirstName, m.LastName, m.Email, m.Gender
                                FROM Members m
                                JOIN Clients c ON m.MemberID = c.MemberID
                            ) AS subquery
                            WHERE Email = %s

    getMemberPasswordByEmail: SELECT Password FROM Members WHERE Email = %s

    searchMembersByName: >
                SELECT FirstName, LastName, Email, Gender FROM Members WHERE FirstName LIKE %s OR LastName LIKE %s
    
    searchTrainersByName: >
                SELECT FirstName, LastName, Email, Gender FROM Members WHERE MemberType = 'Trainer' AND (FirstName LIKE %s OR LastName LIKE %s)

    getAllTrainerSessions: >
                SELECT StartTime, Duration_Minutes, SessionType, isBooked
                FROM WorkoutSessions
                WHERE MemberID = (
                    SELECT MemberID
                    FROM Members
                    WHERE Email = %s
                )

    searchClientsByName: >
                SELECT FirstName, LastName, Email, Gender
                FROM (
                    SELECT m.FirstName, m.LastName, m.Email, m.Gender
                    FROM Members m
                    JOIN Clients c ON m.MemberID = c.MemberID
                ) AS subquery
                WHERE FirstName LIKE %s OR LastName LIKE %s;


    updateEmail: UPDATE Members SET Email = %s WHERE Email = %s;

    getAllMembers: >
                SELECT FirstName, LastName, Email, MemberType 
                FROM Members;

    updatePassword: UPDATE Members SET Password = %s WHERE Email = %s;

    getMemberType: SELECT MemberType FROM Members WHERE Email = %s;

    getAllClients: >
                SELECT m.FirstName, m.LastName, m.Email, m.Gender
                FROM Members m
                JOIN Clients c ON m.MemberID = c.MemberID;

    getAllTrainers: >
                SELECT FirstName, LastName, Email, Gender
                FROM Members
                WHERE MemberType = 'Trainer';

    getAllClientBalance: >
                SELECT m.FirstName, m.LastName, m.Email, c.AccountBalance
                FROM Members m
                JOIN Clients c ON m.MemberID = c.MemberID;

    getClientBalanceByName: >
                
                SELECT FirstName, LastName, Email, AccountBalance
                FROM (
                    SELECT m.FirstName, m.LastName, m.Email, c.AccountBalance
                    FROM Members m
                    JOIN Clients c ON m.MemberID = c.MemberID
                ) AS subquery
                WHERE FirstName LIKE %s OR LastName LIKE %s;


    getClientBalanceByEmail: >
                SELECT c.AccountBalance
                FROM Members m
                JOIN Clients c ON m.MemberID = c.MemberID
                WHERE m.Email = %s;

    chargeAllClients: >
                UPDATE Clients
                SET AccountBalance = AccountBalance + 50;

    payAccountBalance: >
                UPDATE Clients 
                SET AccountBalance = AccountBalance - %s 
                WHERE MemberID = (
                    SELECT MemberID 
                    FROM Members 
                    WHERE Email = %s
                );

    deleteMember: DELETE FROM Members WHERE Email = %s;


    addSession: WITH trainer AS (
                    SELECT MemberID
                    FROM Members
                    WHERE Email = %s
                )
                INSERT INTO WorkoutSessions (MemberID, StartTime, Duration_Minutes, isBooked, SessionType)
                SELECT MemberID, %s, %s, FALSE, %s
                FROM trainer;


    checkTrainerAvailability: >
            SELECT NOT EXISTS (
                SELECT 1
                FROM WorkoutSessions
                WHERE MemberID = (
                    SELECT MemberID
                    FROM Members
                    WHERE Email = %s
                )
                AND NOT (
                    (StartTime + (Duration_Minutes * interval '1 minute')) <= %s
                    OR
                    StartTime >= (%s + (%s * interval '1 minute'))
                )
            ) AS is_available;



                


                